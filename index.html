<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PlandIt – HTML‑only</title>
</head>
<body>
  <!-- Simple, no‑CSS UI. Pure HTML + JS functionality. -->
  <header>
    <h1>PlandIt</h1>
    <div>
      <input id="search" placeholder="Search tasks, events, people…" />
      <button id="helpBtn">Help</button>
      <button id="shortcutsBtn">Shortcuts</button>
      <button id="newBtn">New</button>
    </div>
    <hr />
  </header>

  <nav aria-label="Primary">
    <button data-view="dashboard">Dashboard</button>
    <button data-view="calendar">Calendar</button>
    <button data-view="tasks">Tasks</button>
    <button data-view="teams">Teams</button>
    <button data-view="settings">Settings</button>
    <span> | Quick Actions: </span>
    <button id="qaNewTask">New Task</button>
    <button id="qaNewEvent">New Event</button>
    <button id="qaInvite">Invite</button>
    <button id="qaFocus">Focus 25m</button>
    <hr />
  </nav>

  <main id="viewRoot">
    <!-- Views render here -->
  </main>

  <footer>
    <hr />
    <small>HTML‑only prototype. No CSS included.</small>
  </footer>

  <script>
    // ----- State -----
    const state = {
      active: 'dashboard',
      tasks: [
        { id: 1, title: 'Finish requirements draft', done: false, date: '2025-10-22' },
        { id: 2, title: 'Standup @ 10:00', done: true,  date: '2025-10-20' },
      ],
      events: [
        { id: 1, date: '2025-10-20', title: 'Team sync' },
        { id: 2, date: '2025-10-22', title: 'Milestone review' },
      ],
      team: [
        { id: 1, name: 'Rayan', role: 'Cofounder' },
        { id: 2, name: 'Damien', role: 'Cofounder' },
        { id: 3, name: 'Nick', role: 'Cofounder' },
        { id: 4, name: 'Gurneet', role: 'Cofounder' },
        { id: 5, name: 'Ilias', role: 'Cofounder' },
        { id: 6, name: 'Lawratou', role: 'Cofounder' },
        
      ],
      settings: {
        theme: 'light',
        notifications: true,
      },
      searchQuery: '',
    };

    // ----- Utilities -----
    function byId(id){ return document.getElementById(id); }
    function el(tag, props = {}, children = []){
      const e = document.createElement(tag);
      Object.entries(props).forEach(([k,v]) => {
        if (k === 'text') e.textContent = v;
        else if (k.startsWith('on') && typeof v === 'function') e.addEventListener(k.slice(2).toLowerCase(), v);
        else e.setAttribute(k, v);
      });
      (Array.isArray(children) ? children : [children]).forEach(c => {
        if (c == null) return;
        e.appendChild(typeof c === 'string' ? document.createTextNode(c) : c);
      });
      return e;
    }
    function h(tag, attrs, ...kids){ return el(tag, attrs, kids); }

    // ----- Rendering Root -----
    const root = document.getElementById('viewRoot');
    function render(){
      root.innerHTML = '';
      switch(state.active){
        case 'dashboard': renderDashboard(); break;
        case 'calendar': renderCalendar(); break;
        case 'tasks': renderTasks(); break;
        case 'teams': renderTeams(); break;
        case 'settings': renderSettings(); break;
      }
    }

    // ----- Views -----
    function renderDashboard(){
      const today = new Date().toDateString();
      root.append(
        h('section', {},
          h('h2', {text:'Today'}),
          h('div', {text: today}),
          h('ul', {}, ...state.events.slice(0,3).map(e => h('li', {}, `${e.title} — ${e.date}`)))
        ),
        h('section', {},
          h('h2', {text:'My Tasks'}),
          h('ul', {}, ...state.tasks.slice(0,4).map(t => h('li', {}, `${t.done ? '[x]' : '[ ]'} ${t.title}`)))
        ),
        h('section', {},
          h('h2', {text:'Team'}),
          h('ul', {}, ...state.team.map(m => h('li', {}, `${m.name} — ${m.role}`)))
        )
      );
    }

    function renderCalendar(){
      // Combine Events and dated Tasks
      const evts = state.events
        .filter(e => matchSearch(e.title) || matchSearch(e.date))
        .map(e => ({ type:'event', id:e.id, title:e.title, date:e.date }));
      const plans = state.tasks
        .filter(t => t.date)
        .filter(t => matchSearch(t.title) || matchSearch(t.date))
        .map(t => ({ type:'task', id:t.id, title:t.title, date:t.date }));

      const combined = [...evts, ...plans]
        .sort((a,b) => String(a.date).localeCompare(String(b.date)));

      const items = combined.map(x => {
        const label = x.type === 'event' ? '[Event]' : '[Task]';
        const actions = x.type === 'event'
          ? [
              h('button', {onClick:() => editEvent(x.id)}, 'Edit'), ' ',
              h('button', {onClick:() => deleteEvent(x.id)}, 'Delete')
            ]
          : [
              h('button', {onClick:() => renameTask(x.id)}, 'Rename'), ' ',
              h('button', {onClick:() => setTaskDate(x.id)}, 'Set Date'), ' ',
              h('button', {onClick:() => deleteTask(x.id)}, 'Delete')
            ];
        return h('li', {}, `${label} ${x.title} — ${x.date} `, ...actions);
      });

      root.append(
        h('h2', {text:'Calendar'}),
        h('div', {},
          h('button', {onClick:newEvent}, 'Add Event'), ' ',
          h('button', {onClick:() => state.active='tasks' || render()}, 'Go to Tasks')
        ),
        h('ul', {}, ...items)
      );
    }

    function renderTasks(){
      const list = state.tasks
        .filter(t => matchSearch(t.title) || matchSearch(t.date || ''))
        .map(t => h('li', {},
          h('input', {type:'checkbox', ...(t.done?{checked:'checked'}:{}), onChange:()=>toggleTask(t.id)}),
          ' ', t.title,
          t.date ? ` — ${t.date}` : '', ' ',
          h('button', {onClick:() => setTaskDate(t.id)}, t.date ? 'Change Date' : 'Set Date'), ' ',
          h('button', {onClick:() => renameTask(t.id)}, 'Rename'), ' ',
          h('button', {onClick:() => deleteTask(t.id)}, 'Delete')
        ));
      root.append(
        h('h2', {text:'Tasks'}),
        h('div', {},
          h('button', {onClick:newTask}, 'Add Task'), ' ',
          h('button', {onClick:sortTasks}, 'Sort (Undone first)')
        ),
        h('ul', {}, ...list)
      );
    }

    function renderTeams(){
      const list = state.team
        .filter(m => matchSearch(m.name) || matchSearch(m.role))
        .map(m => h('li', {},
          `${m.name} — ${m.role} `,
          h('button', {onClick:() => editMember(m.id)}, 'Edit')
        ));
      root.append(
        h('h2', {text:'Team'}),
        h('button', {onClick:inviteMember}, 'Invite Member'),
        h('ul', {}, ...list)
      );
    }

    function renderSettings(){
      root.append(
        h('h2', {text:'Settings'}),
        h('div', {},
          h('label', {}, 'Theme: ',
            h('select', {id:'themeSel', onChange:(e)=>{ state.settings.theme = e.target.value; }},
              h('option', {value:'light', ...(state.settings.theme==='light'?{selected:'selected'}:{})}, 'Light'),
              h('option', {value:'dark', ...(state.settings.theme==='dark'?{selected:'selected'}:{})}, 'Dark'),
              h('option', {value:'system', ...(state.settings.theme==='system'?{selected:'selected'}:{})}, 'System')
            )
          )
        ),
        h('div', {},
          h('label', {},
            h('input', {type:'checkbox', id:'notifChk', ...(state.settings.notifications?{checked:'checked'}:{}), onChange:(e)=>{ state.settings.notifications = e.target.checked; }}),
            ' Enable notifications'
          )
        ),
        h('button', {onClick:()=>alert('Saved')}, 'Save')
      );
    }

    // ----- Actions (Tasks) -----
    function newTask(){
      const title = prompt('Task title'); if(!title) return;
      const date = prompt('Due date (YYYY-MM-DD, optional)');
      state.tasks.unshift({ id: Date.now(), title: title.trim(), done: false, date: (date||'').trim() || undefined });
      render();
    }
    function toggleTask(id){ const t = state.tasks.find(x=>x.id===id); if(!t) return; t.done = !t.done; render(); }
    function renameTask(id){ const t = state.tasks.find(x=>x.id===id); if(!t) return; const next = prompt('Rename task', t.title); if(!next) return; t.title = next.trim(); render(); }
    function setTaskDate(id){ const t = state.tasks.find(x=>x.id===id); if(!t) return; const d = prompt('Set task date (YYYY-MM-DD)', t.date || new Date().toISOString().slice(0,10)); if(d===null) return; t.date = d.trim() || undefined; render(); }
    function deleteTask(id){ state.tasks = state.tasks.filter(x=>x.id!==id); render(); }
    function sortTasks(){ state.tasks.sort((a,b)=> Number(a.done) - Number(b.done)); render(); }

    // ----- Actions (Events) -----
    function newEvent(){
      const title = prompt('Event title'); if(!title) return;
      const date = prompt('YYYY-MM-DD', new Date().toISOString().slice(0,10)); if(!date) return;
      state.events.push({ id: Date.now(), title: title.trim(), date: date.trim() });
      render();
    }
    function editEvent(id){
      const e = state.events.find(x=>x.id===id); if(!e) return;
      const title = prompt('Title', e.title); if(!title) return;
      const date = prompt('YYYY-MM-DD', e.date); if(!date) return;
      e.title = title.trim(); e.date = date.trim();
      render();
    }
    function deleteEvent(id){
      state.events = state.events.filter(x=>x.id!==id); render();
    }

    // ----- Actions (Team) -----
    function inviteMember(){
      const name = prompt('Member name'); if(!name) return;
      const role = prompt('Role (e.g., Dev, PM, QA)', 'Member') || 'Member';
      state.team.push({ id: Date.now(), name: name.trim(), role: role.trim() });
      render();
    }
    function editMember(id){
      const m = state.team.find(x=>x.id===id); if(!m) return;
      const role = prompt(`New role for ${m.name}`, m.role); if(!role) return;
      m.role = role.trim(); render();
    }

    // ----- Search -----
    function matchSearch(s){ return !state.searchQuery || String(s).toLowerCase().includes(state.searchQuery); }
    byId('search').addEventListener('input', (e)=>{ state.searchQuery = e.target.value.trim().toLowerCase(); render(); });

    // ----- Quick actions / top bar -----
    byId('helpBtn').addEventListener('click', ()=> alert('This is the HTML‑only prototype. Use the nav buttons to switch views.'));
    byId('shortcutsBtn').addEventListener('click', ()=> alert('Shortcuts: none yet in this prototype.'));
    byId('newBtn').addEventListener('click', ()=> {
      const choice = prompt('Create what? (task/event/member)');
      if(!choice) return;
      if(choice.toLowerCase().startsWith('t')) newTask();
      else if(choice.toLowerCase().startsWith('e')) newEvent();
      else if(choice.toLowerCase().startsWith('m')) inviteMember();
    });

    document.querySelectorAll('nav [data-view]').forEach(btn=>{
      btn.addEventListener('click', ()=>{ state.active = btn.getAttribute('data-view'); render(); });
    });

    byId('qaNewTask').addEventListener('click', newTask);
    byId('qaNewEvent').addEventListener('click', newEvent);
    byId('qaInvite').addEventListener('click', inviteMember);
    byId('qaFocus').addEventListener('click', ()=> alert('Focus timer started for 25 minutes. Stay on target!'));

    // Initial render
    render();
  </script>
</body>
</html>
